[tox]
skipsdist = True
envlist = docs-{strict,allowfailures}, server

[testenv]
passenv = 
    IP
    PORT
    aristotlemdr__BASE_DIR
    SELENIUM_DRIVER
changedir=
    docs: docs
    server: server
commands=
    server: ./manage.py {posargs}
    docs-strict: sphinx-build -nWaE -b html . _build/html/
    docs-allowfailures: sphinx-build -aE -b html . _build/html/
deps =
    docs: -r{toxinidir}/requirements.docs.txt
    server: -r{toxinidir}/requirements.server.txt
